{"version":3,"sources":["webpack:///./src/views/VirtualList.vue","webpack:///./src/components/HVirtualList.vue","webpack:///src/components/HVirtualList.vue","webpack:///./src/components/HVirtualList.vue?dc91","webpack:///./src/components/HVirtualList.vue?cce6","webpack:///src/views/VirtualList.vue","webpack:///./src/views/VirtualList.vue?c13c","webpack:///./src/views/VirtualList.vue?c2b8","webpack:///./src/components/HVirtualList.vue?2b6a","webpack:///./src/views/VirtualList.vue?c99d"],"names":["render","_vm","this","_c","_self","staticClass","staticRenderFns","ref","style","containerH","height","listHeight","translateY","_l","displayData","i","index","key","itemHeight","_v","_s","start","end","name","data","dataList","containerHeight","scrollTop","computed","length","itemCount","Math","ceil","floor","slice","mounted","Array","from","v","k","listRef","$refs","addEventListener","onScroll","methods","e","target","beforeDestroy","removeEventListener","component","components","HVirtualList"],"mappings":"sHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,iBAAiB,IAEpIG,EAAkB,GCFlBN,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,MAAM,CAACI,IAAI,UAAUF,YAAY,sBAAsBG,MAAOP,EAAIQ,YAAa,CAACN,EAAG,MAAM,CAACE,YAAY,OAAOG,MAAO,CAAEE,OAAWT,EAAIU,WAAN,OAAyB,CAACR,EAAG,MAAM,CAACE,YAAY,gBAAgBG,MAAQ,yBAAwBP,EAAIW,iBAAkBX,EAAIY,GAAIZ,EAAIa,aAAa,SAASC,EAAEC,GAAO,OAAOb,EAAG,MAAM,CAACc,IAAID,EAAMX,YAAY,OAAOG,MAAO,CAAEE,OAAWT,EAAIiB,WAAN,OAAyB,CAACjB,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGL,GAAG,UAAS,OAAOZ,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACF,EAAIkB,GAAG,WAAWlB,EAAImB,GAAGnB,EAAIoB,OAAO,UAAUpB,EAAImB,GAAGnB,EAAIqB,aAE3kBhB,EAAkB,GCuBP,GACfiB,KAAA,gBACAC,OACA,OACAC,SAAA,GACAP,WAAA,GACAQ,gBAAA,IACAC,UAAA,IAGAC,SAAA,CACAjB,YAAA,SAAAc,EAAA,WAAAP,IACA,OAAAO,EAAAI,OAAAX,GAEAT,YAAA,gBAAAiB,IACA,OACA,WAAAA,EAAA,OAIAI,WAAA,gBAAAJ,EAAA,WAAAR,IACA,OAAAa,KAAAC,KAAAN,EAAAR,GAAA,GAEAG,OAAA,UAAAM,EAAA,WAAAT,IACA,OAAAa,KAAAE,MAAAN,EAAAT,IAEAI,KAAA,MAAAD,EAAA,UAAAS,IACA,OAAAT,EAAAS,GAEAhB,aAAA,SAAAW,EAAA,MAAAJ,EAAA,IAAAC,IACA,OAAAG,EAAAS,MAAAb,EAAAC,IAEAV,YAAA,MAAAS,EAAA,WAAAH,IACA,OAAAG,EAAAH,IAGAiB,UACA,KAAAV,SAAAW,MAAAC,KAAA,CAAAR,OAAA,MAAAS,EAAAC,IAAA,KAAAA,GACA,KAAArB,WAAA,GACA,MAAAsB,EAAA,KAAAC,MAAAD,QACAA,EAAAE,iBAAA,cAAAC,WAEAC,QAAA,CACAD,SAAAE,GACA,KAAAlB,UAAAkB,EAAAC,OAAAnB,YAGAoB,gBACA,MAAAP,EAAA,KAAAC,MAAAD,QACAA,EAAAQ,oBAAA,cAAAL,YC1EsV,I,wBCQlVM,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCXA,GACf1B,KAAA,cACA2B,WAAA,CAAAC,iBCVqV,ICQjV,G,UAAY,eACd,EACAnD,EACAM,GACA,EACA,KACA,WACA,OAIa,e,oECnBf,W,yDCAA","file":"js/VirtualList.401ccee2.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"virtual-list-container\"},[_c('HVirtualList')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{ref:\"listRef\",staticClass:\"virtual-scroll-list\",style:(_vm.containerH)},[_c('div',{staticClass:\"list\",style:({ height: `${_vm.listHeight}px` })},[_c('div',{staticClass:\"itemContainer\",style:(`transform: translateY(${_vm.translateY}px)`)},_vm._l((_vm.displayData),function(i,index){return _c('div',{key:index,staticClass:\"item\",style:({ height: `${_vm.itemHeight}px` })},[_vm._v(\" \"+_vm._s(i)+\" \")])}),0)])]),_c('div',{staticClass:\"info\"},[_c('i',[_vm._v(\"当前开始索引： \"+_vm._s(_vm.start)+\"，结束索引： \"+_vm._s(_vm.end))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"virtual-scroll-list\" ref=\"listRef\" :style=\"containerH\">\n      <div class=\"list\" :style=\"{ height: `${listHeight}px` }\">\n        <div\n          :style=\"`transform: translateY(${translateY}px)`\"\n          class=\"itemContainer\"\n        >\n          <div\n            v-for=\"(i, index) in displayData\"\n            :key=\"index\"\n            class=\"item\"\n            :style=\"{ height: `${itemHeight}px` }\"\n          >\n            {{ i }}\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"info\">\n      <i>当前开始索引： {{ start }}，结束索引： {{ end }}</i>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"HVirtualList2\",\n  data() {\n    return {\n      dataList: [],\n      itemHeight: 30, //每行数据所占高度\n      containerHeight: 300, //容器高\n      scrollTop: 0\n    };\n  },\n  computed: {\n    listHeight({ dataList, itemHeight }) {\n      return dataList.length * itemHeight;\n    },\n    containerH({ containerHeight }) {\n      return {\n        \"--height\": `${containerHeight}px`\n      };\n    },\n    // +1准备多一个数据，防止滚动留白\n    itemCount({ containerHeight, itemHeight }) {\n      return Math.ceil(containerHeight / itemHeight) + 1;\n    },\n    start({ scrollTop, itemHeight }) {\n      return Math.floor(scrollTop / itemHeight);\n    },\n    end({ start, itemCount }) {\n      return start + itemCount;\n    },\n    displayData({ dataList, start, end }) {\n      return dataList.slice(start, end);\n    },\n    translateY({ start, itemHeight }) {\n      return start * itemHeight;\n    }\n  },\n  mounted() {\n    this.dataList = Array.from({ length: 500 }, (v, k) => `内容${k}`);\n    this.itemHeight = 30;\n    const listRef = this.$refs.listRef;\n    listRef.addEventListener(\"scroll\", this.onScroll);\n  },\n  methods: {\n    onScroll(e) {\n      this.scrollTop = e.target.scrollTop;\n    }\n  },\n  beforeDestroy() {\n    const listRef = this.$refs.listRef;\n    listRef.removeEventListener(\"scroll\", this.onScroll);\n  }\n};\n</script>\n\n<style scoped>\n.virtual-scroll-list {\n  position: relative;\n  inset: 0;\n  margin: 0 auto;\n\n  border: 2px solid orange;\n  width: 500px;\n  overflow-y: auto;\n  max-height: var(--height);\n}\n\n.item {\n  box-sizing: border-box;\n  /* background-color: gray; */\n  border-bottom: 1px dashed gray;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HVirtualList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HVirtualList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HVirtualList.vue?vue&type=template&id=f0404e20&scoped=true&\"\nimport script from \"./HVirtualList.vue?vue&type=script&lang=js&\"\nexport * from \"./HVirtualList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HVirtualList.vue?vue&type=style&index=0&id=f0404e20&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f0404e20\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"virtual-list-container\">\n    <HVirtualList />\n  </div>\n</template>\n\n<script>\nimport HVirtualList from \"@/components/HVirtualList.vue\";\nexport default {\n  name: \"VirtualList\",\n  components: { HVirtualList }\n};\n</script>\n<style scoped>\n.virtual-list-container {\n  text-align: center;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VirtualList.vue?vue&type=template&id=3a49e976&scoped=true&\"\nimport script from \"./VirtualList.vue?vue&type=script&lang=js&\"\nexport * from \"./VirtualList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VirtualList.vue?vue&type=style&index=0&id=3a49e976&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a49e976\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HVirtualList.vue?vue&type=style&index=0&id=f0404e20&prod&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualList.vue?vue&type=style&index=0&id=3a49e976&prod&scoped=true&lang=css&\""],"sourceRoot":""}