{"version":3,"sources":["webpack:///src/views/VirtualList.vue","webpack:///src/components/HVirtualList.vue","webpack:///./src/views/VirtualList.vue?c2b8","webpack:///./src/views/VirtualList.vue?7094","webpack:///./src/components/HVirtualList.vue?f222","webpack:///./src/components/HVirtualList.vue?e23e","webpack:///./src/components/HVirtualList.vue?dc91","webpack:///./src/views/VirtualList.vue?c13c","webpack:///./src/components/HVirtualList.vue?2b6a","webpack:///./src/views/VirtualList.vue","webpack:///./src/components/HVirtualList.vue","webpack:///./src/components/HVirtualList.vue?cce6","webpack:///./src/views/VirtualList.vue?d5b8","webpack:///./src/views/VirtualList.vue?c99d"],"names":["name","components","HVirtualList","data","dataList","itemHeight","containerHeight","scrollTop","computed","listHeight","length","containerH","itemCount","Math","ceil","start","floor","end","displayData","slice","translateY","mounted","Array","from","v","k","listRef","$refs","addEventListener","onScroll","methods","e","target","beforeDestroy","removeEventListener","render","_vm","_c","_self","staticClass","staticRenderFns","ref","style","height","_l","i","index","key","_v","_s"],"mappings":"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","file":"js/VirtualList.3f7ccdbe.js","sourcesContent":["<template>\n  <div class=\"virtual-list-container\">\n    <HVirtualList />\n  </div>\n</template>\n\n<script>\nimport HVirtualList from \"@/components/HVirtualList.vue\";\nexport default {\n  name: \"VirtualList\",\n  components: { HVirtualList }\n};\n</script>\n<style scoped>\n.virtual-list-container {\n  text-align: center;\n}\n</style>\n","<template>\n  <div>\n    <div class=\"virtual-scroll-list\" ref=\"listRef\" :style=\"containerH\">\n      <div class=\"list\" :style=\"{ height: `${listHeight}px` }\">\n        <div\n          :style=\"`transform: translateY(${translateY}px)`\"\n          class=\"itemContainer\"\n        >\n          <div\n            v-for=\"(i, index) in displayData\"\n            :key=\"index\"\n            class=\"item\"\n            :style=\"{ height: `${itemHeight}px` }\"\n          >\n            {{ i }}\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"info\">\n      <i>当前开始索引： {{ start }}，结束索引： {{ end }}</i>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"HVirtualList2\",\n  data() {\n    return {\n      dataList: [],\n      itemHeight: 30, //每行数据所占高度\n      containerHeight: 300, //容器高\n      scrollTop: 0\n    };\n  },\n  computed: {\n    listHeight({ dataList, itemHeight }) {\n      return dataList.length * itemHeight;\n    },\n    containerH({ containerHeight }) {\n      return {\n        \"--height\": `${containerHeight}px`\n      };\n    },\n    // +1准备多一个数据，防止滚动留白\n    itemCount({ containerHeight, itemHeight }) {\n      return Math.ceil(containerHeight / itemHeight) + 1;\n    },\n    start({ scrollTop, itemHeight }) {\n      return Math.floor(scrollTop / itemHeight);\n    },\n    end({ start, itemCount }) {\n      return start + itemCount;\n    },\n    displayData({ dataList, start, end }) {\n      return dataList.slice(start, end);\n    },\n    translateY({ start, itemHeight }) {\n      return start * itemHeight;\n    }\n  },\n  mounted() {\n    this.dataList = Array.from({ length: 500 }, (v, k) => `内容${k}`);\n    this.itemHeight = 30;\n    const listRef = this.$refs.listRef;\n    listRef.addEventListener(\"scroll\", this.onScroll);\n  },\n  methods: {\n    onScroll(e) {\n      this.scrollTop = e.target.scrollTop;\n    }\n  },\n  beforeDestroy() {\n    const listRef = this.$refs.listRef;\n    listRef.removeEventListener(\"scroll\", this.onScroll);\n  }\n};\n</script>\n\n<style scoped>\n.virtual-scroll-list {\n  position: relative;\n  inset: 0;\n  margin: 0 auto;\n\n  border: 2px solid orange;\n  width: 500px;\n  overflow-y: auto;\n  max-height: var(--height);\n}\n\n.item {\n  box-sizing: border-box;\n  /* background-color: gray; */\n  border-bottom: 1px dashed gray;\n}\n</style>\n","import { render, staticRenderFns } from \"./VirtualList.vue?vue&type=template&id=3a49e976&scoped=true&\"\nimport script from \"./VirtualList.vue?vue&type=script&lang=js&\"\nexport * from \"./VirtualList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VirtualList.vue?vue&type=style&index=0&id=3a49e976&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a49e976\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"75bd2a13-vue-loader-template\\\"}!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualList.vue?vue&type=template&id=3a49e976&scoped=true&\"","export * from \"-!../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"75bd2a13-vue-loader-template\\\"}!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HVirtualList.vue?vue&type=template&id=f0404e20&scoped=true&\"","// extracted by mini-css-extract-plugin","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HVirtualList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HVirtualList.vue?vue&type=script&lang=js&\"","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualList.vue?vue&type=script&lang=js&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HVirtualList.vue?vue&type=style&index=0&id=f0404e20&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"virtual-list-container\"},[_c('HVirtualList')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{ref:\"listRef\",staticClass:\"virtual-scroll-list\",style:(_vm.containerH)},[_c('div',{staticClass:\"list\",style:({ height: `${_vm.listHeight}px` })},[_c('div',{staticClass:\"itemContainer\",style:(`transform: translateY(${_vm.translateY}px)`)},_vm._l((_vm.displayData),function(i,index){return _c('div',{key:index,staticClass:\"item\",style:({ height: `${_vm.itemHeight}px` })},[_vm._v(\" \"+_vm._s(i)+\" \")])}),0)])]),_c('div',{staticClass:\"info\"},[_c('i',[_vm._v(\"当前开始索引： \"+_vm._s(_vm.start)+\"，结束索引： \"+_vm._s(_vm.end))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./HVirtualList.vue?vue&type=template&id=f0404e20&scoped=true&\"\nimport script from \"./HVirtualList.vue?vue&type=script&lang=js&\"\nexport * from \"./HVirtualList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HVirtualList.vue?vue&type=style&index=0&id=f0404e20&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f0404e20\",\n  null\n  \n)\n\nexport default component.exports","// extracted by mini-css-extract-plugin","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualList.vue?vue&type=style&index=0&id=3a49e976&prod&scoped=true&lang=css&\""],"sourceRoot":""}