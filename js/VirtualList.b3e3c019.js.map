{"version":3,"sources":["webpack:///./src/views/VirtualList.vue?00e1","webpack:///./src/views/VirtualList.vue","webpack:///./src/components/HVirtualList.vue","webpack:///src/components/HVirtualList.vue","webpack:///./src/components/HVirtualList.vue?dc91","webpack:///./src/components/HVirtualList.vue?cce6","webpack:///src/views/VirtualList.vue","webpack:///./src/views/VirtualList.vue?c13c","webpack:///./src/views/VirtualList.vue?c2b8","webpack:///./src/components/HVirtualList.vue?af52"],"names":["render","_vm","this","_c","_self","staticClass","staticRenderFns","ref","style","height","listHeight","translateY","_l","displayData","i","index","key","itemHeight","_v","_s","start","end","name","data","dataList","scrollTop","computed","length","itemCount","Math","ceil","floor","slice","value","mounted","Array","from","v","k","listRef","$refs","addEventListener","onScroll","methods","e","target","beforeDestroy","removeEventListener","component","components","HVirtualList"],"mappings":"6GAAA,W,2CCAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,iBAAiB,IAEpIG,EAAkB,GCFlBN,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACI,IAAI,UAAUF,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,OAAOG,MAAO,CAAEC,OAAWR,EAAIS,WAAN,OAAyB,CAACP,EAAG,MAAM,CAACE,YAAY,gBAAgBG,MAAQ,yBAAwBP,EAAIU,iBAAkBV,EAAIW,GAAIX,EAAIY,aAAa,SAASC,EAAEC,GAAO,OAAOZ,EAAG,MAAM,CAACa,IAAID,EAAMV,YAAY,OAAOG,MAAO,CAAEC,OAAWR,EAAIgB,WAAN,OAAyB,CAAChB,EAAIiB,GAAG,IAAIjB,EAAIkB,GAAGL,GAAG,UAAS,KAAKX,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACF,EAAIiB,GAAG,WAAWjB,EAAIkB,GAAGlB,EAAImB,OAAO,UAAUnB,EAAIkB,GAAGlB,EAAIoB,aAExiBf,EAAkB,GCqBP,GACfgB,KAAA,gBACAC,OACA,OACAC,SAAA,GACAP,WAAA,IACAQ,UAAA,IAGAC,SAAA,CACAhB,YAAA,SAAAc,EAAA,WAAAP,IACA,OAAAO,EAAAG,OAAAV,GAGAW,WAAA,SAAAJ,EAAA,WAAAP,IACA,OAAAY,KAAAC,KAAAN,EAAAG,OAAAV,GAAA,GAEAG,OAAA,UAAAK,EAAA,WAAAR,IACA,OAAAY,KAAAE,MAAAN,EAAAR,IAEAI,KAAA,MAAAD,EAAA,UAAAQ,IACA,OAAAR,EAAAQ,GAEAf,aAAA,SAAAW,EAAA,MAAAJ,EAAA,IAAAC,IACA,OAAAG,EAAAQ,MAAAZ,EAAAa,MAAAZ,EAAAY,QAEAtB,YAAA,MAAAS,EAAA,WAAAH,IACA,OAAAG,EAAAH,IAGAiB,UACA,KAAAV,SAAAW,MAAAC,KAAA,CAAAT,OAAA,MAAAU,EAAAC,IAAA,KAAAA,GACA,KAAArB,WAAA,IACA,MAAAsB,EAAA,KAAAC,MAAAD,QACAA,EAAAE,iBAAA,cAAAC,WAEAC,QAAA,CACAD,SAAAE,GACA,KAAAnB,UAAAmB,EAAAC,OAAApB,YAGAqB,gBACA,MAAAP,EAAA,KAAAC,MAAAD,QACAA,EAAAQ,oBAAA,cAAAL,YClEsV,I,wBCQlVM,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCXA,GACf1B,KAAA,cACA2B,WAAA,CAAAC,iBCVqV,ICQjV,G,UAAY,eACd,EACAlD,EACAM,GACA,EACA,KACA,WACA,OAIa,e,sECnBf,W","file":"js/VirtualList.b3e3c019.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualList.vue?vue&type=style&index=0&id=cb87c01e&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"virtual-list-container\"},[_c('HVirtualList')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"listRef\",staticClass:\"virtual-scroll-list\"},[_c('div',{staticClass:\"list\",style:({ height: `${_vm.listHeight}px` })},[_c('div',{staticClass:\"itemContainer\",style:(`transform: translateY(${_vm.translateY}px)`)},_vm._l((_vm.displayData),function(i,index){return _c('div',{key:index,staticClass:\"item\",style:({ height: `${_vm.itemHeight}px` })},[_vm._v(\" \"+_vm._s(i)+\" \")])}),0)]),_c('div',{staticClass:\"info\"},[_c('i',[_vm._v(\"当前开始索引： \"+_vm._s(_vm.start)+\"，结束索引： \"+_vm._s(_vm.end))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"virtual-scroll-list\" ref=\"listRef\">\n    <div class=\"list\" :style=\"{ height: `${listHeight}px` }\">\n      <div\n        :style=\"`transform: translateY(${translateY}px)`\"\n        class=\"itemContainer\"\n      >\n        <div\n          v-for=\"(i, index) in displayData\"\n          :key=\"index\"\n          class=\"item\"\n          :style=\"{ height: `${itemHeight}px` }\"\n        >\n          {{ i }}\n        </div>\n      </div>\n    </div>\n    <div class=\"info\">\n      <i>当前开始索引： {{ start }}，结束索引： {{ end }}</i>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"HVirtualList2\",\n  data() {\n    return {\n      dataList: [],\n      itemHeight: 150, //每行数据所占高度\n      scrollTop: 0,\n    };\n  },\n  computed: {\n    listHeight({ dataList, itemHeight }) {\n      return dataList.length * itemHeight;\n    },\n    // +1准备多一个数据，防止滚动留白\n    itemCount({ dataList, itemHeight }) {\n      return Math.ceil(dataList.length / itemHeight) + 1;\n    },\n    start({ scrollTop, itemHeight }) {\n      return Math.floor(scrollTop / itemHeight);\n    },\n    end({ start, itemCount }) {\n      return start + itemCount;\n    },\n    displayData({ dataList, start, end }) {\n      return dataList.slice(start.value, end.value);\n    },\n    translateY({ start, itemHeight }) {\n      return start * itemHeight;\n    },\n  },\n  mounted() {\n    this.dataList = Array.from({ length: 500 }, (v, k) => `内容${k}`);\n    this.itemHeight = 150;\n    const listRef = this.$refs.listRef;\n    listRef.addEventListener(\"scroll\", this.onScroll);\n  },\n  methods: {\n    onScroll(e) {\n      this.scrollTop = e.target.scrollTop;\n    },\n  },\n  beforeDestroy() {\n    const listRef = this.$refs.listRef;\n    listRef.removeEventListener(\"scroll\", this.onScroll);\n  },\n};\n</script>\n\n<style scoped>\n.virtual-scroll-list {\n  position: relative;\n  inset: 0;\n  margin: 0 auto;\n\n  border: 2px solid orange;\n  width: 500px;\n  overflow-y: auto;\n  max-height: 500px;\n}\n\n.item {\n  box-sizing: border-box;\n  /* background-color: gray; */\n  border-bottom: 1px dashed gray;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HVirtualList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HVirtualList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HVirtualList.vue?vue&type=template&id=3b91877c&scoped=true&\"\nimport script from \"./HVirtualList.vue?vue&type=script&lang=js&\"\nexport * from \"./HVirtualList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HVirtualList.vue?vue&type=style&index=0&id=3b91877c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b91877c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"virtual-list-container\">\n    <HVirtualList />\n  </div>\n</template>\n\n<script>\nimport HVirtualList from \"@/components/HVirtualList.vue\";\nexport default {\n  name: \"VirtualList\",\n  components: { HVirtualList },\n};\n</script>\n<style scoped>\n.virtual-list-container {\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VirtualList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VirtualList.vue?vue&type=template&id=cb87c01e&scoped=true&\"\nimport script from \"./VirtualList.vue?vue&type=script&lang=js&\"\nexport * from \"./VirtualList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VirtualList.vue?vue&type=style&index=0&id=cb87c01e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cb87c01e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HVirtualList.vue?vue&type=style&index=0&id=3b91877c&prod&scoped=true&lang=css&\""],"sourceRoot":""}